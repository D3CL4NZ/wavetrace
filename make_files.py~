import csv

'''field_list =[bearing,
antenna_height,
site_name,
polarisation,
power_eirp,
longitude,
downtilt,
vertical_beamwidth,
frequency_khz,
latitude,
network_name,
horizontal_beamwidth,
]
'''


parameter_list = []

my_file = 'things.csv'

reader = csv.DictReader(open(my_file, 'rU'))

for row in reader:
    parameter_list.append(row)
            

for thing in parameter_list:
    inner_dict = thing
    print thing


    base_filename = inner_dict['network_name'].replace(' ', '') + '_' + inner_dict['site_name'].replace(' ', '')

    lat = inner_dict['latitude']
    lng = inner_dict['longitude']
    height = inner_dict['antenna_height'] + ' meters'
    f = file(base_filename + '.qth' , 'w')


    print >> f, base_filename
    print >> f, lat
    print >> f, lng
    print >> f, height

    f.close()

    f = file(base_filename + '.lrp', 'w')

    print >> f, '''15.000 ; Earth Dielectric Constant (Relative permittivity)
    0.005 ; Earth Conductivity (Siemens per meter)
    301.000 ; Atmospheric Bending Constant (N-units)
     '''+ inner_dict['frequency_khz'] + ''' ; Frequency in MHz (20 MHz to 20 GHz)
    6 ;  Maritime Temperate, over land (UK and west coasts of US & EU)
    0 ; Polarization (0 = Horizontal, 1 = Vertical)
    0.5 ; Fraction of situations (50% of locations)
    0.5 ; Fraction of time (50% of the time)
    ''' + inner_dict['power_eirp']

    f.close()



